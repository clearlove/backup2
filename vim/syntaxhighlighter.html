<html>
<head>
  <title>在Vimwiki中使用SyntaxHighlighter</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="Stylesheet" type="text/css" href="../../../style.css" />
  <!-- blog ico -->
  <link type="image/x-icon" rel="icon" href="../../../images/ruchee.ico" />
  <link type="image/x-icon" rel="shortcut icon" href="../../../images/ruchee.ico" />
  <!-- for SyntaxHighlighter core -->
  <script type="text/javascript" src="../../../scripts/shCore.js"></script>
  <link type="text/css" rel="stylesheet" href="../../../styles/shCore.css"/>
  <!-- for SyntaxHighlighter theme -->
  <link type="text/css" rel="stylesheet" href="../../../styles/shThemeMidnight.css"/>
  <!-- for SyntaxHighlighter syntax -->
  <script type="text/javascript" src="../../../scripts/shSyntax.js"></script>
  <!-- for SyntaxHighlighter execute -->
  <script type="text/javascript">
  SyntaxHighlighter.config.clipboardSwf = "../../../scripts/clipboard.swf";
  SyntaxHighlighter.all();
  </script>
  </head>
<body>
  <center style="font-family: 'Microsoft Yahei', sans-serif; font-size: 1.80em;
    font-weight: normal; color: #FF6600">Ruchee的荒草园子</center><br />
  <center>青春的记忆，童年的回忆，我们的努力</center>


<p>
<a href="../../../index.html">首页</a> - <a href="../index.html">Tools</a> - <a href="index.html">Vim</a>
<h2 id="toc_0.1">在Vimwiki中使用SyntaxHighlighter</h2>
<hr />
以前弄过一次，但没有成功，今天再次尝试终于<code>OK</code>了
</p>

<p>
我使用的是鼎鼎大名的<code>SyntaxHighlighter</code>，下面是其在<code>Vimwiki</code>环境下的具体使用方法
<hr />
<h3 id="toc_0.1.1">基本配置</h3>
</p>

<p>
<code>1</code>、上<a href="http://alexgorbatchev.com/SyntaxHighlighter">SyntaxHighlighter官网</a>下载最新版，当前最新为<code>3.0.83</code>
</p>

<p>
<code>注</code>：本教程讲解的是<code>3.x</code>，但本博客实际使用的是<code>2.x</code>，两版本用法大同小异，从官网下载的安装包里面自带有简易的使用示例，参照改动即可
</p>

<p>
<code>2</code>、解压下载到的压缩包，复制<code>scripts</code>和<code>styles</code>这两个文件夹到放置<code>HTML</code>文件的目录，也就是<code>Vimwiki</code>编译生成的<code>HTML</code>文件存放处
</p>

<p>
<code>3</code>、在<code>Vimwiki</code>的头部模板的<code>head</code>标签中添加以下包含语句：（注意，为防止演示标签生效，这儿都故意加了空格，实际使用时不需要空格）
</p>
<pre HTML>
<pre class="brush: html">
&lt; script type="text/javascript" src="%root_path%scripts/shCore.js"&gt;&lt;/ script &gt;
&lt; link type="text/css" rel="stylesheet" href="%root_path%styles/shCoreDefault.css" /&gt;
&lt; script type="text/javascript"&gt;SyntaxHighlighter.all();&lt;/ script &gt;
</pre>
</pre>
<p>
以上还只是加载了核心文件，至于想要高亮哪些编程语言还得另外指定包含文件，如要求高亮<code>JavaScript</code>则还需添加下面一条，其他依此类推：
</p>

<pre HTML>
<pre class="brush: html">
&lt; script type="text/javascript" src="%root_path%scripts/shBrushJScript.js"&gt;&lt;/ script &gt;
</pre>
</pre>

<p>
<code>4</code>、编辑<code>Vim</code>配置文件，在<code>Vimwiki</code>的<code>g:vimwiki_valid_html_tags</code>配置项中添加<code>pre</code>，例如我的配置为：
</p>

<pre Vim>
<pre class="brush: vim">
let g:vimwiki_valid_html_tags='b,i,s,u,sub,sup,kbd,br,hr,div,del,code,red,center,left,right,h4,h5,h6,pre,script'
</pre>
</pre>

<p>
完成以上步骤就算配置完成了，下面是使用方法
<hr />
<h3 id="toc_0.1.2">使用方法</h3>
</p>

<p>
在需要贴程序代码的地方使用<code>pre</code>标签包围即可，具体如下：
</p>

<pre>
&lt; pre class="brush: js;"&gt;
代码区域
&lt;/ pre &gt;
</pre>
<p>
其中<code>brush</code>后的<code>js</code>代表高亮类型为<code>JavaScript</code>，可以任意指定为<code>SyntaxHighlighter</code>支持的语言
</p>

<p>
<code>重要</code>：由于<code>Vimwiki</code>每按一次回车键会自动生成一个<code>&lt; p &gt;</code>标签，这样就破坏了代码，为此必须在<code>&lt; pre &gt;</code>最外面套上一层由三个大括号组成的“标签”，这样就不会因为回车的影响而破坏代码了
</p>

<p>
<code>注意</code>：为阻止演示代码生效，我在<code>pre</code>标签前面加了空格，实际使用时不要有空格
<hr />
<h3 id="toc_0.1.3">更换主题</h3>
</p>

<p>
在<code>styles</code>文件夹下有大量主题可供选用，要指定某个主题只需在头部模板文件中添加下面的语句，以<code>Django</code>主题为例：
</p>

<pre HTML>
<pre class="brush: html">
&lt; link type="text/css" rel="Stylesheet" href="%root_path%styles/shThemeDjango.css" /&gt;
</pre>
</pre>
<hr />
<h3 id="toc_0.1.4">相关参考</h3>

<p>
下面两个文件分别是本页面的源文件以及本博客使用的模板，谨供参考
</p>

<p>
为方便浏览器显示，我将两者的后缀都改成了<code>.txt</code>，使用时分别改为<code>.wiki</code>和<code>.html</code>即可
</p>

<p>
<code>syntaxhighlighter.wiki</code>：<a href="syntaxhighlighter.txt">syntaxhighlighter.txt</a>
</p>

<p>
<code>header.html</code>：<a href="header.txt">header.txt</a>
<hr />
<red>date</red> : 2011-09-27、2011-10-17、2012-06-17、2012-06-19
<hr />
</p>

  <center  style="font-family: 'Microsoft Yahei'; font-size: small; font-weight: normal; color: #009933">
  Ruchee&nbsp;&copy;&nbsp;2011-2013&nbsp;www.ruchee.com<br>
  Generated by <a href="http://www.vim.org" target="_blank">Vim</a> &amp; <a href="http://code.google.com/p/vimwiki/" target="_blank">Vimwiki</a>
  </center>
  
  <!-- 量子统计代码 -->
  <script type="text/javascript" src="http://js.tongji.linezing.com/2785323/tongji.js"></script>

</body>
</html>

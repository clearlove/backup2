%title Vimwiki使用入门
%template discuss

[[../../index|首页]] - [[index|Tools]]
==Vimwiki使用入门==
----
===Vimwiki简介===

`Vimwiki`是一款`Vim`的写作插件，能够根据一定的规则自动生成`HTML`页面，可以用来`记日记`、`写博客`、`做wiki`、`做相册`等，在国内已有不少的使用量

本博客就是通过`Vimwiki`制作的，其他一些已知的`Vimwiki`站点还有以下一些：
* <a href="http://wiki.ktmud.com/" target="_blank">丘迟的维基世界</a>
* <a href="http://wiki.hotoo.me/" target="_blank">闲耘™. Wiki</a>
* <a href="http://phpstone.com/wiki/" target="_blank">frePerl's Wiki Notes</a>
* <a href="http://yishanhe.net/wiki/" target="_blank">YISH</a>
* <a href="http://augix.com/" target="_blank">Computational Biology</a>
* <a href="http://wangheng.org/html/" target="_blank">王恒的笔记</a>
* <a href="http://wiki.wutianqi.com/" target="_blank">Tanky Woo的wiki</a>
* <a href="http://wiki.venmos.com/index.html" target="_blank">Venom的wiki</a>

`Vimwiki`的使用很简单，只要有`Vim`基础，通读完本文后你就可以拥有一个自己的`wiki`了
----
===安装和配置===

# `Vim`是必须要有的嘛，安装方法这儿就不多提了（`Windows`下可以安装`gVim`）
# 首先上`Vimwiki`官网（<a href="https://code.google.com/p/vimwiki/downloads/list" target="_blank">https://code.google.com/p/vimwiki/downloads/list</a>）下载最新的安装包，本文基于`2.0.1`版本讲解（`vimwiki-2-0-1.zip`）
# 解压下载到的压缩包，你应该会看到这么五个文件夹：`autoload`、`doc`、`ftplugin`、`plugin`、`syntax`
# 把这些文件夹复制到你的`Vim`插件目录，`Windows`下为`gVim安装目录/vimfiles`，`Linux`下为`~/.vim`
# 在任意目录下新建三个文件夹，分别命名为`wiki`、`html`、`templates`（待会将用来存放`wiki源文件`、`生成的HTML文件`、`模板文件`）
# 打开你的`Vim`配置文件，添加以下内容，并将里面的路径替换成你本机的实际途径，`Windows`用户要记得把路径里面的`\`替换成`/`（`Windows`下的配置文件为`gVim安装目录/_vimrc`，`Linux`下为`~/.vimrc`）
{{{class="brush: vim"
" 打开语法高亮
syntax enable
syntax on

" 打开对文件类型插件的支持
filetype indent on
filetype plugin on
filetype plugin indent on

" ======= VimWiki ======= "

" 设置编码
let g:vimwiki_w32_dir_enc = 'utf-8'

" 使用鼠标映射
let g:vimwiki_use_mouse = 1

" 声明可以在wiki里面使用的HTML标签
let g:vimwiki_valid_html_tags = 'a,b,i,s,u,sub,sup,kbd,br,hr,div,del,code,red,center,left,right,h1,h2,h3,h4,h5,h6,pre,script,style'

" 新建一个wiki并对其进行配置
let blog                  = {}
let blog.path             = 'D:/Ruchee/mysite/wiki/'
let blog.path_html        = 'D:/Ruchee/mysite/html/'
let blog.template_path    = 'D:/Ruchee/mysite/templates/'
let blog.template_default = 'site'                         " 指定默认模板，后面我会提供一份给你做参考
let blog.template_ext     = '.html'                        " 指定模板文件的后缀
let blog.auto_export      = 1                              " 保存wiki源文件时自动编译成HTML

" 对新建的wiki进行注册
let g:vimwiki_list = [blog]
}}}
# 在你的`templates`目录下新建一个`site.html`模板文件，内容如下（现在先不要管太多，直接复制粘贴吧，后面我会详细解释）：
{{{class="brush: html"
<html>
<head>
  <title>%title%</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="Stylesheet" type="text/css" href="%root_path%style.css" />
  </head>
<body>
  <center style="font-family: 'Microsoft Yahei', sans-serif; font-size: 1.80em;
    font-weight: normal; color: #FF6600">我的Vimwiki站点</center><br />


  %content%


  <center  style="font-family: 'Microsoft Yahei'; font-size: small; font-weight: normal; color: #009933">
  My Name&nbsp;&copy;&nbsp;2013&nbsp;My Site Link<br>
  Generated by <a href="http://www.vim.org" target="_blank">Vim</a> &amp; <a href="http://code.google.com/p/vimwiki/" target="_blank">Vimwiki</a>
  </center>

</body>
</html>
}}}
# 在你的`html`目录下新建一个`style.css`样式表文件，内容如下（本文件是在`丘迟`的配色基础上提取和精简而来的）：
{{{class="brush: css"
html {
  color: #cad3d6;
  min-height: 100%;
  background-color: #123;
  padding: 0;
  margin: 0;
}

body {
  max-width: 1200px;
  position: relative;
  margin: 40px auto 15px;
  font: 100 14px/1.5 "Trebuchet MS", Helvetica, SimSun, sans-serif;
}

p, ul, li, table {
  margin: 0;
  padding: 0;
}

a {
  color: #0df;
  text-decoration: none;
  padding-bottom: 1px;
}

a:hover {
  color: #5ef;
  padding-bottom: 0;
  border-bottom: 1px solid #468;
}

a:visited {
  color: #6ac;
}

input:focus, a:focus, button:focus {
  box-shadow: 0 0 3px #cb0;
  -webkit-box-shadow: 0 0 3px #cb0;
  -moz-box-shadow: 0 0 3px #cb0;
}

h1, h2, h3, h4, h5, h6 { 
  font-family: "Microsoft Yahei", sans-serif;
  margin: 0;
  padding: 0.15em 0;
}

h1 {
  font-size: 1.7em;
  padding-bottom: 0.1em;
  color: #f37;
  margin-bottom: 0.5em;
  margin-top: 0;
}

h2 {
  font-size: 1.52em;
  color: #fd5;
  margin-top: 1em;

}

h3 {
  font-size: 1.22em;
  color: #df5;
  width: 80%;
  margin-top: 0.9em;
  margin-bottom: 0.4em;
}

h4 {
  font-size: 1.15em;
  color: #6d9;
  margin-top: 0.8em;

}

h5 {
  font-size: 1.05em;
  color: #e3e3f3;

}
h6 {
  font-size: 1.0em;
  color: #99CC00;
}

p, pre, blockquote, table, ul, ol, dl {
  margin: 0.5em 0 1em;
}

ul ul, ul ol, ol ol, ol ul {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

li {
  margin: 0.3em auto;
  list-style-position: inside;
}

ol, ul {
  margin-left: 1em;
  padding-left: 0.5em;
}

dt {
  font-weight: bold;
}

img {
  border: none;
}

code {
  padding: 2px 4px;
  color: #00FF00;
  font-family: 'Lucida Console', 'Courier New', Courier, monospace;
}

blockquote, pre {
  padding: 0.8em;
  z-index: 2;
  font-family: 'Lucida Console', 'Courier New', Courier, monospace;
  -webkit-transition: all 0.45s linear;
  -moz-transition: all 0.45s linear;

}

blockquote {
  background: rgba(255,30,120,0.1);
  border: 1px solid rgba(230,0,20,0.2);
}

blockquote:hover, pre:hover {
  color: #eee;
  background: rgba(255,30,120,0.25);
}

pre {
  margin-left: 1em;
  padding: 0.4em 0.8em;
}

table {
  border-collapse: collapse;
}

.syntaxhighlighter table {
  width: 100%;
}

.syntaxhighlighter td.gutter {
  width: 1em;
}

.syntaxhighlighter .gutter .line {
  padding-right: 0.3em;
}

th, td {
  border: 1px solid #256;
  padding: 0.3em 0.5em;

}

th {
  background-color: #f0f0f0;

}

hr {
  border: none;
  border-top: 3px double #035;
  width: 100%;
  margin: 20px 0;
}

del {
  text-decoration: line-through;
  opacity: 0.6;
}

strong, b {
  font-weight: 600;
  color: #eef;
}

em, i {
  font-family: Candara, "Microsoft Yahei", sans-serif;
  font-style: italic;
}

textarea {
  background: transparent;
  color: #fff;
  resize: none;
}

.tocWrap {
  position: fixed; 
  width: 200px;
  z-index: 100;
  top: 16%;
  right: 2.8%;
  display: none;
}

.toc {
  display: none;
  overflow: auto;
  overflow-x: hidden;
  border: 1px solid #F0C81E;
  border-radius: 0 0 1px 1px;
  -moz-border-radius: 0 0 1px 1px;
  color: #999;
  background: #0C1F2C;
  background: rgba(10,30,40,0.85);
  padding: 12px;
  box-shadow: 0 1px 8px #000;
  -webkit-box-shadow: 0 1px 8px #000;
  -moz-box-shadow: 0 1px 8px #000;
}

.tocWrap .toggler {
  text-align: center;
  font-size: 12px;
  background: #F0C81E;
  border-radius: 2px 2px 0 0;
  -moz-border-radius: 2px 2px 0 0;
  color: #122;
  position: relative;
  z-index: 101;
  cursor: pointer;
}

.toc ul {
  margin: 0;
}

.toc li {
  color: #eff;
}

.toc a {
  color: #eff;
}

.todo {
  font-weight: bold;
  background-color: #f0ece8;
  color: #a03020;
}

.justleft {
  text-align: left;

}

.justright {
  text-align: right;

}

.justcenter {
  text-align: center;

}

.center {
  margin-left: auto;
  margin-right: auto;
}

red {
  padding: 2px 4px;
  color: red;
  font-family: 'Lucida Console', 'Courier New', Courier, monospace;
}
}}}
----
===基本语法一览===
----
===添加代码高亮===
----
===设置网站图标===
----
===添加流量统计===
----
===添加留言评论===
----
===后记===
----
<red>date</red> : 2013-04-12
----
